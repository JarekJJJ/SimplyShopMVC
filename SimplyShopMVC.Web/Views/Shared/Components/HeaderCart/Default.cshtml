@model SimplyShopMVC.Application.ViewModels.Order.ListCartItemsForListVm
<div class="btn-group dropend">
    <button type="button" id="cart" class="frameButton dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="position-relative">
            <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="" class="bi bi-cart-plus-fill" viewBox="0 0 16 16">
                <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM9 5.5V7h1.5a.5.5 0 0 1 0 1H9v1.5a.5.5 0 0 1-1 0V8H6.5a.5.5 0 0 1 0-1H8V5.5a.5.5 0 0 1 1 0z" />
            </svg>
            <span style="font-size:x-small" class="position-absolute p-1 top-100 start-75 translate-middle te badge rounded-pill bg-danger">@Model.countCartItems</span>

        </span>
    </button>
    <div class="dropdown-menu cartDropDown top-100 translate-middle-x end-0 p-0" id="">
        <div class="card card-body" style="width: 350px">
            @if (User.Identity.IsAuthenticated)
            {
                <div class="card-title">
                    <span>Zawartość koszyka:</span>
                </div>
                <div class="card-text">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Nazwa</th>
                                <th>Ilość</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model.listCartItems != null)
                            {
                                @foreach (var item in Model.listCartItems)
                                {
                                    <tr>
                                        <td><span class="" style="font-size: 0.8em;">@item.Name</span></td>
                                        <td><span class="" style="font-size: 0.8em;">@item.Quantity</span></td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
                <div class="cardcard-footer text-center">
                    <a asp-controller="Cart" asp-action="Index" class="">
                        <button class="btn btn-primary" type="button">
                            Przejdź do koszyka
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="" class="bi bi-cart-plus-fill text-white" viewBox="0 0 16 16">
                                <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM9 5.5V7h1.5a.5.5 0 0 1 0 1H9v1.5a.5.5 0 0 1-1 0V8H6.5a.5.5 0 0 1 0-1H8V5.5a.5.5 0 0 1 1 0z" />
                            </svg>
                        </button>
                    </a>
                </div>
            }
            @if (User.Identity.IsAuthenticated == false)
            {
                <div class="card-title">
                   
                </div>
                <div class="card-text">
                    <span>Zaloguj się żeby zobaczyć zawartość koszyka !</span>
                </div>
                <div class="cardcard-footer text-center">
                    <button class="btn btn-primary btn-sm" type="button">
                        <a asp-area="Identity" asp-page="/Account/Login">
                            <span style="text-decoration: none; color: white;"> Przejdź do logowania</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-person text-white" viewBox="0 0 16 16">
                                <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
                            </svg>
                            </a>
                    </button>
                 
                </div>
            }
            
        </div>

    </div>
</div>


